Index: Dockerfile
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>FROM python:3.10.2\r\n\r\nWORKDIR /usr/src/traineeship\r\n\r\nENV PYTHONDONTWRITEBYTECODE=1\r\nENV PYTHONUNBUFFERED=1\r\n\r\nCOPY ./requirements.txt /usr/src/requirements.txt\r\nRUN pip install -r /usr/src/requirements.txt\r\n\r\nCOPY . /usr/src/traineeship/\r\n\r\nEXPOSE 8000\r\nCMD (\"python\", \"manage.py\", \"runserver\", \"0.0.0.0:8000\")
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Dockerfile b/Dockerfile
--- a/Dockerfile	(revision 088ba8e9f212433dcd13dd108cc5c9a97621c9b1)
+++ b/Dockerfile	(date 1662554095145)
@@ -1,14 +1,23 @@
-FROM python:3.10.2
+FROM python:3.8 as base
+
+RUN pip install pipenv
 
-WORKDIR /usr/src/traineeship
+ENV PROJECT_DIR /usr/src/treineeship
+ENV SRC_DIR ${PROJECT_DIR}/src
 
-ENV PYTHONDONTWRITEBYTECODE=1
+COPY Pipfile Pipfile.lock ${PROJECT_DIR}/
+
+WORKDIR ${PROJECT_DIR}
+
 ENV PYTHONUNBUFFERED=1
 
-COPY ./requirements.txt /usr/src/requirements.txt
-RUN pip install -r /usr/src/requirements.txt
+FROM base as dev
+
+# this is a dev image build, so install dev packages
+RUN pipenv install --system --dev
 
-COPY . /usr/src/traineeship/
+COPY ./src ${SRC_DIR}/
 
-EXPOSE 8000
-CMD ("python", "manage.py", "runserver", "0.0.0.0:8000")
\ No newline at end of file
+WORKDIR ${SRC_DIR}
+
+CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"]
\ No newline at end of file
